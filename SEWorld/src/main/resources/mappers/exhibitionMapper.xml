<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="global.sesoc.seworld.dao.ExhibitionMapper">

	<select id="showExhibitionList" resultType="exhibition"
		parameterType="String">
		SELECT
		exhibitionId
		, exhibitionTitleKor
		, exhibitionTitleEng
		, openingTerm
		, firstOpeningYear
		, openingCountry
		, openingCity
		, exhibitionHall
		, sponsor
		, createdDate
		, updatedDate
		, dataOffer
		FROM c6_exhibition
		where openingCountry like '%' || #{searchText} || '%'
		ORDER BY
		openingTerm DESC
	</select>

	<select id="getTotalCountry" resultType="String">
		select countryname from
		c6_countries
	</select>

	<select id="getTotalList" resultType="int">
		SELECT COUNT(*)
		FROM
		c6_exhibition
	</select>

	<select id="getListForMap" resultType="exhibition">
		select * FROM c6_exhibition
	</select>

	<select id="showExhibitionDetail" resultType="exhibition"
		parameterType="String">
		SELECT
		exhibitionId
		, exhibitionTitleKor
		,
		exhibitionTitleEng
		, openingTerm
		,
		firstOpeningYear
		, openingCountry
		,
		openingCity
		, exhibitionHall
		,sponsor
		, createdDate
		, updatedDate
		,
		dataOffer
		FROM c6_exhibition
		WHERE
		exhibitionId = #{selectedCountry}
	</select>

	<!-- 각국 전시회 수 세기 -->
	<select id="countCountry" parameterType="String"
		resultType="int">
		select count(*) from c6_exhibition where openingCountry =
		#{selectedCountry}
	</select>
</mapper>